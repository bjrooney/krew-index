apiVersion: krew.googlecode.com/v1alpha2
kind: Plugin
metadata:
  name: safe
spec:
  version: v0.4.2
  homepage: https://github.com/bjrooney/kubectl-safe
  shortDescription: Interactive safety net for dangerous kubectl commands
  description: |
    kubectl-safe provides an interactive safety net for dangerous kubectl commands.
    
    It acts as a wrapper around destructive kubectl operations to prevent common
    mistakes by:
    - Requiring explicit --context and --namespace flags for dangerous commands
    - Showing interactive confirmation prompts with target details
    - Acting as a final checkpoint before potentially destructive operations
    
    Dangerous commands include: delete, apply, create, replace, patch, edit, 
    scale, rollout, drain, cordon, uncordon, and taint.
    
    For safe commands like get, describe, logs, etc., this plugin acts as a
    transparent pass-through to kubectl without any safety checks.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.2/kubectl-safe-linux-amd64.tar.gz
    sha256: "98000d5470a9be272292d2d18d57d2cd471fcef6e5302f04742a3a4e651d8e35"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.2/kubectl-safe-linux-arm64.tar.gz
    sha256: "c055f451dddabff55e49156712f892692013f21a3169a7619d94a55673091853"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.2/kubectl-safe-darwin-amd64.tar.gz
    sha256: "852be19b555824f15143d9d4fdd4b936f3bf2eb0b071ab5a6c0d8a0830c1f81c"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.2/kubectl-safe-darwin-arm64.tar.gz
    sha256: "7c10acaebd6c04ee44b2d8542ec26f5f91b11ff53e5a639010188fa24305edd0"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.2/kubectl-safe-windows-amd64.tar.gz
    sha256: "97ecc6b2a1587c367a061aad86725d5b5797f6d95c73e07d7d1d52db7f976b0b"
    bin: kubectl-safe.exe
