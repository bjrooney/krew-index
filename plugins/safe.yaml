apiVersion: krew.googlecode.com/v1alpha2
kind: Plugin
metadata:
  name: safe
spec:
  version: v0.4.5
  homepage: https://github.com/bjrooney/kubectl-safe
  shortDescription: Interactive safety net for dangerous kubectl commands
  description: |
    kubectl-safe provides an interactive safety net for dangerous kubectl commands.
    
    It acts as a wrapper around destructive kubectl operations to prevent common
    mistakes by:
    - Requiring explicit --context and --namespace flags for dangerous commands
    - Showing interactive confirmation prompts with target details
    - Acting as a final checkpoint before potentially destructive operations
    
    Dangerous commands include: delete, apply, create, replace, patch, edit, 
    scale, rollout, drain, cordon, uncordon, and taint.
    
    For safe commands like get, describe, logs, etc., this plugin acts as a
    transparent pass-through to kubectl without any safety checks.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.5/kubectl-safe-linux-amd64.tar.gz
    sha256: "fb351f936a1c23314914e2d530241b17c59146ede9c5905b5f4877b5ccf6bafe"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.5/kubectl-safe-linux-arm64.tar.gz
    sha256: "7ed0155068c45b8315259d89013f8be78ab575cd6a45fa3897ebce030298436b"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.5/kubectl-safe-darwin-amd64.tar.gz
    sha256: "41661fe6ea49facd9b7d5ea15536bcb1b414a1f9f72ac93b53bf76550e31081e"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.5/kubectl-safe-darwin-arm64.tar.gz
    sha256: "4adf6a6859538436cf7c76ae659d417261f65bcafd725bee6bde79866f1f8b5f"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.5/kubectl-safe-windows-amd64.tar.gz
    sha256: "5ee8b05ff2a38ef9e71eb890b715807898c4820316103e4eae6d1839534d2af3"
    bin: kubectl-safe.exe
