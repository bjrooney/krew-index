apiVersion: krew.googlecode.com/v1alpha2
kind: Plugin
metadata:
  name: safe
spec:
  version: v0.4.3
  homepage: https://github.com/bjrooney/kubectl-safe
  shortDescription: Interactive safety net for dangerous kubectl commands
  description: |
    kubectl-safe provides an interactive safety net for dangerous kubectl commands.
    
    It acts as a wrapper around destructive kubectl operations to prevent common
    mistakes by:
    - Requiring explicit --context and --namespace flags for dangerous commands
    - Showing interactive confirmation prompts with target details
    - Acting as a final checkpoint before potentially destructive operations
    
    Dangerous commands include: delete, apply, create, replace, patch, edit, 
    scale, rollout, drain, cordon, uncordon, and taint.
    
    For safe commands like get, describe, logs, etc., this plugin acts as a
    transparent pass-through to kubectl without any safety checks.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.3/kubectl-safe-linux-amd64.tar.gz
    sha256: "79f29647ced36b63843922931fb83d9116767d54a1f591e3018041ba9652b2c1"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.3/kubectl-safe-linux-arm64.tar.gz
    sha256: "5fe1e531e80a81586e4226ad8b4308d7a3a2b1409abdad4a0a97360e919371bb"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.3/kubectl-safe-darwin-amd64.tar.gz
    sha256: "d23dc9c66d699d41a20f5f7a64c921b3085da42b44865b732e027fd81d8572d3"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.3/kubectl-safe-darwin-arm64.tar.gz
    sha256: "cf7ca453af26af52217babd98cc44b04c4bd2e436c331de05116b5efaa783725"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.3/kubectl-safe-windows-amd64.tar.gz
    sha256: "d3739e3a17360b69c09ea4bf94e50659f7a28f98fe015248fc5cf8fccb290f4d"
    bin: kubectl-safe.exe
