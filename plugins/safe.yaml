apiVersion: krew.apache.org/v1alpha2
kind: Plugin
metadata:
  name: safe
spec:
  version: v0.4.8
  homepage: https://github.com/bjrooney/kubectl-safe
  shortDescription: Interactive safety net for dangerous kubectl commands
  description: |
    kubectl-safe provides an interactive safety net for dangerous kubectl commands.
    
    It acts as a wrapper around destructive kubectl operations to prevent common
    mistakes by:
    - Requiring explicit --context and --namespace flags for dangerous commands
    - Showing interactive confirmation prompts with target details
    - Acting as a final checkpoint before potentially destructive operations
    
    Dangerous commands include: delete, apply, create, replace, patch, edit, 
    scale, rollout, drain, cordon, uncordon, and taint.
    
    For safe commands like get, describe, logs, etc., this plugin acts as a
    transparent pass-through to kubectl without any safety checks.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.8/kubectl-safe-linux-amd64.tar.gz
    sha256: "7e1c4105f2c195e0f5f468eeb5c618c4a60e8c69cea9d0d5353be68283355cf7"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.8/kubectl-safe-linux-arm64.tar.gz
    sha256: "05af4b4788b17d399741368fafdcfc5e60eca97291d09b197f7e4e91775653e7"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.8/kubectl-safe-darwin-amd64.tar.gz
    sha256: "60f358fb19b2d291ae5d2fa6daee79d933432625e9bc4e571ed26ff0c9dc225d"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.8/kubectl-safe-darwin-arm64.tar.gz
    sha256: "1f18e8b76b2d0179d85ebc9ede14a4135127893764525993752f371d8e61df34"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.8/kubectl-safe-windows-amd64.tar.gz
    sha256: "e2dff42a398f958c5dfdb19582d5926fea683999a44944ed83c8bb42b0a18db9"
    bin: kubectl-safe.exe
