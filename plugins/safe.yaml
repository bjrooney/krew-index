apiVersion: krew.googlecode.com/v1alpha2
kind: Plugin
metadata:
  name: safe
spec:
  version: v0.5.0
  homepage: https://github.com/bjrooney/kubectl-safe
  shortDescription: Interactive safety net for dangerous kubectl commands
  description: |
    kubectl-safe provides an interactive safety net for dangerous kubectl commands.
    
    It acts as a wrapper around destructive kubectl operations to prevent common
    mistakes by:
    - Requiring explicit --context and --namespace flags for dangerous commands
    - Showing interactive confirmation prompts with target details
    - Acting as a final checkpoint before potentially destructive operations
    
    Dangerous commands include: delete, apply, create, replace, patch, edit, 
    scale, rollout, drain, cordon, uncordon, and taint.
    
    For safe commands like get, describe, logs, etc., this plugin acts as a
    transparent pass-through to kubectl without any safety checks.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.5.0/kubectl-safe-linux-amd64.tar.gz
    sha256: "156ebbfefb8c9319212e8e5586d671b892673e6837c13011ba6e7a94a5281db0"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.5.0/kubectl-safe-linux-arm64.tar.gz
    sha256: "8a0b4eeb3a88ae11ce5549313c4ac7d41918d26d0bca10856ed2a6e06f93c624"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.5.0/kubectl-safe-darwin-amd64.tar.gz
    sha256: "fcd64d021f48e90a0906b0d1eb831603dfd6b9320b7aa81bfb5efb2bede76dc1"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.5.0/kubectl-safe-darwin-arm64.tar.gz
    sha256: "6b13244878d00a380335a59f5e4c2dfdae4d88b95017d7826dcd0a59b0778d7d"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.5.0/kubectl-safe-windows-amd64.tar.gz
    sha256: "fdb20f326e1ac359356ca4dce01799561b2cd6486d7625638bd2bb441718cf9b"
    bin: kubectl-safe.exe
