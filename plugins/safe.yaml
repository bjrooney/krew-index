apiVersion: krew.googlecode.com/v1alpha2
kind: Plugin
metadata:
  name: safe
spec:
  version: v0.4.1
  homepage: https://github.com/bjrooney/kubectl-safe
  shortDescription: Interactive safety net for dangerous kubectl commands
  description: |
    kubectl-safe provides an interactive safety net for dangerous kubectl commands.
    
    It acts as a wrapper around destructive kubectl operations to prevent common
    mistakes by:
    - Requiring explicit --context and --namespace flags for dangerous commands
    - Showing interactive confirmation prompts with target details
    - Acting as a final checkpoint before potentially destructive operations
    
    Dangerous commands include: delete, apply, create, replace, patch, edit, 
    scale, rollout, drain, cordon, uncordon, and taint.
    
    For safe commands like get, describe, logs, etc., this plugin acts as a
    transparent pass-through to kubectl without any safety checks.
  platforms:
  - selector:
      matchLabels:
        os: linux
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.1/kubectl-safe-linux-amd64.tar.gz
    sha256: "334b2cd0591f996c7e7b983f5c55e64ccbe55bb2543316d99e3168194c362f54"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: linux
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.1/kubectl-safe-linux-arm64.tar.gz
    sha256: "7e246004fee1d070d0101804dbf018f4500a3047678131877215a332021c8ba0"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.1/kubectl-safe-darwin-amd64.tar.gz
    sha256: "171d2c80f453d3c0153da4f4d8746fa46bf85cfacf3325f3a208bfc7972db3fe"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: darwin
        arch: arm64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.1/kubectl-safe-darwin-arm64.tar.gz
    sha256: "0d79ac684d1283bcb2c8c7072d8ba476ec463e73d911c3622e0e06e5aa2f1173"
    bin: kubectl-safe
  - selector:
      matchLabels:
        os: windows
        arch: amd64
    uri: https://github.com/bjrooney/kubectl-safe/releases/download/v0.4.1/kubectl-safe-windows-amd64.tar.gz
    sha256: "499d503a6b2477b2a886ced1ecdc86418ba28f2bd396f2339fa317d7e173fa94"
    bin: kubectl-safe.exe
